[uwsgi]

stats = /home/pyuser/jcgroup.stats.sock
socket = 0.0.0.0:5050
safe-pidfile = /home/pyuser/jcgroup.pid
chmod-socket = 666
vacuum = true
buffer-size = 65535


socket-timeout = 3600
socket-write-timeout = 3600
so-write-timeout = 3600
so-send-timeout = 3600
socket-send-timeout = 3600

harakiri = 3600
harakiri-verbose = true

# 60 * 1024 * 1024 * 1024
limit-post =  64424509440
post-buffering = 8192

ignore-sigpipe=true
ignore-write-errors=true

master = true

processes = 2
threads = 2
thunder-lock = true

chdir = /code
module = src.server.app:app
virtualenv = /code/.venv
wsgi-disable-file-wrapper = true

max-requests = 100
reload-on-rss = 256
worker-reload-mercy = 300

listen = 200
log-slow = true

log-format = %(addr) - %(user) [%(ltime)] "%(method) %(uri) %(proto)" %(status) %(size) "%(referer)" "%(uagent)" %(msecs)
