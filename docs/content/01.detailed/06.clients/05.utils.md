---
title: clients.utils
description: mAP Core API V2 クライアント機能で共通に使用されるユーティリティ関数を提供する。
---

## get_time_stamp
mAP Core API V2 を使用する際に使用するタイムスタンプを取得する。Unix 時間を秒単位で返す。

#### シグネチャ
```python[utils.py]
def get_time_stamp() -> str:
```

#### 戻り値

| 型  | 説明               |
| --- | ------------------ |
| str | 秒単位の Unix 時間 |

#### 処理内容
1. 現在の UTC 時刻を取得する。
2. ミリ秒を切り捨てて、その文字列を戻り値として返す。


## compute_signature
mAP Core API V2 を使用する際に必要な署名を計算する。

#### シグネチャ
```python[utils.py]
def compute_signature(client_secret: str, access_token: str, time_stamp: str) -> str:
```

#### 引数

| 名前          | 型  | 説明                     |
| ------------- | --- | ------------------------ |
| client_secret | str | クライアントシークレット |
| access_token  | str | アクセストークン         |
| time_stamp    | str | タイムスタンプ           |

#### 戻り値

| 型  | 説明                    |
| --- | ----------------------- |
| str | 16 進数表現の署名文字列 |

#### 処理内容
1. `client_secret`、`access_token`、`time_stamp` の順に連結した文字列を作成する。
2. 連結した文字列の SHA-256 ハッシュを計算し、その 16 進数表現の文字列を戻り値として返す。
