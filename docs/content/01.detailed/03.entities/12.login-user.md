---
title: entities.login_user
description: 当システムのログインユーザーに関するスキーマおよびエンティティモデルを提供する。
---

## LoginUser
ログインユーザーの情報を持つクラス

#### シグネチャ
```python[login_user.py]
class LoginUser(flask_login.UserMixin, pydantic.BaseModel):
```

#### 依存するライブラリ
- **Flask-Login**： ログインユーザーの認証を行う。
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `flask_login.UserMixin`
- `pydantic.BaseModel`

#### クラス属性
| 変数名       | 型       | 属性                        |
| ------------ | -------- | --------------------------- |
| eppn         | str      | ログインユーザーのePPN      |
| login_date   | datetime | ログイン日時                |
| is_member_of | str      | Shibboleth のisMemberOf属性 |
| is_sysadmin  | bool     | システム管理者であればTrue  |
| session_id   | str      | セッションid                |

### is_sysadmin
ログインユーザーがシステム管理者であるかを返すメソッド

#### シグネチャ
```python[login_user.py]
@cached_property
class is_sysadmin(self) -> bool:
```
#### デコレータ
- `@cached_property`:プロパティの結果をキャッシュするデコレータ。

#### 戻り値
| 型   | 説明                         |
| ---- | ---------------------------- |
| bool | システム管理者であるかどうか |

#### 処理方法
1. self.is_member_ofでisMemberOfを取得
2. isMemberOfを引数に[`services.permission::is_sysadmin`](../05.services/08.permission.md#is_sysadmin)を呼び出す
3. 戻り値を返却

### get_id
user_idを取得するメソッド

#### シグネチャ
```python[login_user.py]
@override
class get_id(self) -> str:
```

#### 戻り値
| 型  | 説明                   |
| --- | ---------------------- |
| str | ログインユーザーのeppn |

#### 処理方法
1. `self.eppn`を返却する
